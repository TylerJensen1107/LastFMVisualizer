define(["require","jquery","core/ajax","jquery-popup-overlay"],function(e){"use strict";var o=e("jquery"),t=e("core/ajax");e("jquery-popup-overlay");var n={open:function(e,n,u){this.close(),this.request&&this.request.abort(),this.request=t.get(e,null,null,function(e,t){var r=o(t).appendTo("body");this.show(r,n,u)}.bind(this))},close:function(){o(".popup_content").popup("hide")},show:function(e,t,n){t&&e.on("click",function(e){var n=o(e.target),u=n.data("modal-action"),r=t[u];r&&r()}),e.popup({autoopen:!0,closeelement:".js-close",setzindex:!1,pagecontainer:"#content",onclose:n})}};return n});