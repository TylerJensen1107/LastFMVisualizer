var Spotify=function(e){e.Config={_configuration:{debug:!1,tracking:!0,server:"//embed.spotify.com/","open-url":"https://open.spotify.com/","mediabar-url":"https://embed.spotify.com/mediabar/","link-url":"https://play.spotify.com/","play-now-url":"https://embed.spotify.com/registration/play-now.php","logging-prefix":"[SPB]","entity-renderer-url":"//embed.spotify.com/mediabar/entity/","download-url":"https://www.spotify.com/download/","fb-app-id":"174829003346","trackset-max-length":70,"registration-module-browser-versions":{firefox:14,
chrome:21,safari:5,explorer:8},"link-enabled":!0,"link-browser-versions":{chrome:21,firefox:14,safari:5,explorer:9},"embedded-player-versions":{chrome:21,firefox:14,safari:5,explorer:9},"mediabar-browser-versions":{chrome:21,firefox:14,safari:5,explorer:[9,10]},"mediabar-platforms":["Windows","Mac","Linux","Unknown"],"play-now-markets":[],"download-links":{windows:{"default":"https://d1clcicqv97n4s.cloudfront.net/SpotifySetup.exe"},mac:{"default":"https://d1clcicqv97n4s.cloudfront.net/Spotify.dmg",
app:"https://d1clcicqv97n4s.cloudfront.net/SpotifyInstaller.zip"}},"spotify-target-origin":"https://embed.spotify.com","allowed-origins":[["*.spotify.com","https"],["*.yahoo.com","http|https"],"https://d1tgm0mcw6tx0m.cloudfront.net","https://d34f388hvlfgq4.cloudfront.net","https://d20nan3osubr3.cloudfront.net",["*.last.fm","http|https"],["*.lastfm.de","http|https"],["*.lastfm.fr","http|https"],["*.lastfm.se","http|https"],["*.lastfm.pt","http|https"],["*.lastfm.pl","http|https"],["*.lastfm.it","http|https"],
["*.lastfm.com.br","http|https"],["*.lastfm.tr","http|https"],["*.lastfm.jp","http|https"],["*.lastfm.es","http|https"],["*.lastfm.ru","http|https"],["*.lastfm.ch","http|https"],["*.lastfm.at","http|https"],["*.lastfm.com.tr","http|https"],["*.lastfm.biz","http|https"],["*.coachella.com","http|https"],["*.sandpit.us","http|https"],["*.echonest.com","http|https"],["*.musixmatch.com","http|https"],["*.undrtone.com","http|https"],["*.genius.com","http|https"],["*.genius-staging.com","http|https"],["*.g.dev",
"http|https"]],"ab-testing":{"play-now-performance":{A:{range:[0,24],description:"No prefetch, no autoplay"},B:{range:[25,49],description:"Only prefetch"},C:{range:[50,74],description:"Only autoplay"},D:{range:[75,100],description:"Prefetch and autoplay"}},"animated-play-count":{"no-animated":{range:[0,0],description:"No animation updating playcount"},animated:{range:[0,100],description:"Animated playcount update"}}}},set:function(c,a){this._configuration[c]=a},get:function(c){var a=null;"undefined"!==
typeof this._configuration[c]&&this._configuration.hasOwnProperty(c)&&(a=this._configuration[c]);return a},override:function(c){for(var a in c)c.hasOwnProperty(a)&&"undefined"!==typeof this._configuration[a]&&(this._configuration[a]=c[a])}};return e}(Spotify||{});Spotify=function(e){e.Logger={log:function(c,a,b){Spotify.Config.get("debug")&&this.isConsoleAvailable()&&("undefined"===typeof b&&(b=!1),c=Spotify.Config.get("logging-prefix")+c,e.BrowserDetect.init(),"chrome"==e.BrowserDetect.browser.toLowerCase()&&b&&(b=Error().stack.split("\n")[2],c+="\n"+b,"undefined"!==typeof a&&(c+="\n")),"undefined"!==typeof a?console.log(c,a):console.log(c))},isConsoleAvailable:function(){return window.console?!0:!1}};return e}(Spotify||{});Spotify=function(e){e.BrowserDetect={initialized:!1,init:function(){this.initialized||(this.browser=this._searchString(this.dataBrowser)||"Unknown",this.version=this._searchVersion(navigator.userAgent)||this._searchVersion(navigator.appVersion)||"an unknown version",this.OS=this._searchString(this.dataOS)||"Unknown",this.initialized=!0)},_searchString:function(c){for(var a=0;a<c.length;a++){var b=c[a].string,d=c[a].prop,h=c[a].subString;this.versionSearch=c[a].versionSearch||c[a].identity;if(b){if("string"===
typeof h&&-1!=b.indexOf(h)||"object"===typeof h&&-1!=b.search(h))return c[a].identity}else if(d)return c[a].identity}},_searchVersion:function(c){var a=this.versionSearch,b=-1;"string"===typeof a?b=c.indexOf(a)+a.length+1:"object"===typeof a&&(b=(b=c.match(a))?c.search(a)+b[0].length:-1);if(-1!==b)return parseFloat(c.substring(b))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},
{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:/MSIE|Trident/i,
identity:"Explorer",versionSearch:/MSIE|rv:/i},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:/iPhone|iPad|iPod/i,identity:"iOS"},{string:navigator.platform,
subString:"Linux",identity:"Linux"}],getUserAgent:function(){return window.navigator.userAgent}};return e}(Spotify||{});Spotify=function(e){var c=null;e.Util={_isYUILoaded:function(){return!!("undefined"!==typeof YAHOO&&YAHOO.util)},_isJQueryLoaded:function(){return"undefined"!==typeof jQuery},_legacyByClassName:function(a,b){var d=[];if("undefined"===typeof b.getElementsByTagName)return d;for(var h=b.getElementsByTagName("*"),f=0;f<h.length;f++)if(h[f].getAttribute("class"))for(var g=h[f].getAttribute("class").split(" "),c=0;c<g.length;c++)g[c].toLowerCase()==a.toLowerCase()&&d.push(h[f]);else if(h[f].className){g=
h[f].className.split(" ");for(c=0;c<g.length;c++)g[c].toLowerCase()==a.toLowerCase()&&d.push(h[f])}return d},byClassName:function(a,b){"undefined"===typeof b&&(b=document);var d=[];try{d=b.querySelectorAll?b.querySelectorAll("."+a):this._isYUILoaded()?YAHOO.util.Dom.getElementsByClassName(a,void 0,b):this._legacyByClassName(a,b)}catch(c){d=this._legacyByClassName(a,b)}return d},randomId:function(){return"spotify-"+Math.floor(1E5*Math.random())},position:function(a){var b={x:0,y:0};this._isYUILoaded()?
(b=YAHOO.util.Dom.getXY(a),b={x:b[0],y:b[1]}):a.getBoundingClientRect&&(a=a.getBoundingClientRect(),b={x:parseInt(a.left,10),y:parseInt(a.top,10)});return b},setPosition:function(a,b){this._isYUILoaded()?YAHOO.util.Dom.setXY(a,[b.x,b.y]):(a.style.left=b.x+"px",a.style.top=b.y+"px")},size:function(a){var b=null;return b=this._isYUILoaded()?[parseInt(YAHOO.util.Dom.getStyle(a,"width"),10),parseInt(YAHOO.util.Dom.getStyle(a,"height"),10)]:this._isJQueryLoaded()?[parseInt(jQuery(a).width(),10),parseInt(jQuery(a).height(),
10)]:[a.offsetWidth,a.offsetHeight]},domReady:function(a){if(this._isYUILoaded()&&"function"===typeof a)Y.on("domready",function(){a()})},isBrowserCompatible:function(a,b){var d=!1;"undefined"===typeof b&&(b=!1);Spotify.BrowserDetect.initialized||Spotify.BrowserDetect.init();var c=Spotify.BrowserDetect.browser.toLowerCase(),f=Spotify.BrowserDetect.version,g=Spotify.Config.get(a);g&&"undefined"!==typeof g[c]&&(d="object"===typeof g[c]?-1<g[c].indexOf(f):f>=g[c]);b||(d=d&&""!==Spotify.Download.getInstallerLink());
return d},isPlatformCompatible:function(a){var b=!1;Spotify.BrowserDetect.initialized||Spotify.BrowserDetect.init();(a=Spotify.Config.get(a))&&-1<a.indexOf(Spotify.BrowserDetect.OS)&&(b=!0);return b},isPostMessageCompatible:function(){return window.postMessage?!0:!1},attachEvent:function(a,b,d){"undefined"===typeof d&&(d=window);d.addEventListener?d.addEventListener(a,b,!1):d.attachEvent&&d.attachEvent("on"+a,b)},removeEvent:function(a,b,d){"undefined"===typeof d&&(d=window);d.removeEventListener&&
d.removeEventListener(a,b)},getWindowSize:function(){var a=[0,0];return a=window.innerWidth?[window.innerWidth,window.innerHeight]:[Math.max(document.documentElement.clientWidth,document.body.clientWidth),Math.max(document.documentElement.clientHeight,document.body.clientHeight)]},removeNode:function(a){a.parentNode.removeChild(a)},isAttributeSupported:function(a,b){return"undefined"!==typeof document.createElement(a)[b]},openWindow:function(a,b,d,c){b=b.replace("-","");(a=window.open(a,b,"height="+
c+",width="+d+",resizable=yes,scrollbars=no,status=no,toolbar=no,menubar=no"))&&a.focus();return a},ajax:function(a,b,d,c,f,g){var j=!1;"undefined"!==typeof g&&(j="explorer"===Spotify.BrowserDetect.browser.toLowerCase()&&9===Spotify.BrowserDetect.version);if(this._isJQueryLoaded()&&!j)f={url:a,data:b,success:d,error:d,type:"undefined"===typeof f?"GET":"POST"},"undefined"!==typeof c&&(f.timeout=c),$.ajax(f);else if(j){var e=new XDomainRequest,f=[],c=function(){try{"undefined"!==typeof d&&d(JSON.parse(e.responseText))}finally{e=
null}};e.onload=c;e.onerror=c;if(b instanceof Object)for(var i in b)b.hasOwnProperty(i)&&f.push(encodeURIComponent(i)+"="+encodeURIComponent(b[i]));e.open("GET",a+"?"+f.join("&"),!0);e.send(null)}},eventTarget:function(a){return a.target?a.target:a.srcElement},onUnload:function(a){window.onbeforeunload=function(){if("function"===typeof a)return a()}},computeExtraOffset:function(){var a=0,b=0,d=b=a=0,c=0;if(window.innerWidth&&window.outerHeight)a=window.innerWidth,b=window.innerHeight,d=window.outerWidth,
c=window.outerHeight;else if(document.documentElement.clientWidth)try{var f=document.documentElement.clientWidth,g=document.documentElement.clientHeight;window.resizeTo(f,g);var d=f-document.documentElement.clientWidth,c=g-document.documentElement.clientHeight,j=f+d,e=g+c;window.resizeTo(j,e);if(f!=document.documentElement.clientWidth||g!=document.documentElement.clientHeight)d=j-document.documentElement.clientWidth,c=e-document.documentElement.clientHeight}catch(i){}a=Math.abs(a-d);b=Math.abs(b-
c);return[a,b]},resizeWindow:function(a){if(!window.innerHeight){try{window.resizeTo(a[0]+20,a[1]+100)}catch(b){}return!0}a=a.slice(0);"undefined"===typeof a[0]?a=[0,0]:"undefined"===typeof a[1]&&(a[1]=0);var d=this.computeExtraOffset(a);a[0]+=d[0];a[1]+=d[1];d=a[0];a=a[1];try{window.resizeTo(d,a)}catch(c){}},setLocationWithIframe:function(a){"chrome"===Spotify.BrowserDetect.browser.toLowerCase()&&/spotify:/.test(a)?top.location.assign(a):(a=Spotify.View.render("iframe",{src:a,style:"display:none"}),
document.getElementsByTagName("body")[0].appendChild(a))},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():"undefined"!==typeof a.cancelBubble&&(a.cancelBubble=!0)},isIE8:function(){return"explorer"===Spotify.BrowserDetect.browser.toLowerCase()&&8===Spotify.BrowserDetect.version},isMobile:function(){Spotify.BrowserDetect.init();return-1!==["iOS","Android"].indexOf(Spotify.BrowserDetect.OS)},iframeReady:function(a,b){a.attachEvent?a.attachEvent("onload",b):a.onload=b},readableTime:function(a){var b=
a/1E3/60,a=Math.floor(b),b=Math.round(60*(b-a));60==b&&(a++,b=0);return 10>b?a+":0"+b:a+":"+b},pageTitle:function(){var a="",b=document.getElementsByTagName("title");0<b.length&&(a=b[0].innerHTML);return a},addClass:function(a,b){-1===a.className.indexOf(b)&&(a.className+=" "+b)},removeClass:function(a,b){a.className=a.className.replace(" "+b,"")},isLocalStorageSupported:function(){if(null===c){var a=new Date,b,d;try{(b=window.localStorage).setItem(a,a),d=b.getItem(a)==a,b.removeItem(a),c=!(!d||!b)}catch(e){c=
!1}}return c},parseJSON:function(a){var b=null;try{b=JSON.parse(a)}catch(d){}return b},getChallengeToken:function(){return"undefined"!==typeof Spotify.challengeToken?Spotify.challengeToken:""},setInterval:function(a,b){var d=new Date,c=0;return setInterval(function(){var f=(new Date).getTime()-d.getTime()+c,g=parseInt(f/b)*b;c=f%b;a(g);d=new Date},b)},formatNumber:function(a){return(""+a).replace(/(\d)(?=(\d{3})+$)/g,"$1,")},toHtml:function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;")},objectCreate:function(a){function b(){}if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");if(Object.create)return Object.create(a);b.prototype=a;return new b}};return e}(Spotify||{});Spotify=function(e){e.RemoteControlBridgeInterface=function(){var c=[];this.attach=function(a){"function"===typeof a&&c.push(a)};this._onEvent=function(a){for(var b=0;b<c.length;b++)c[b](a)};this.playSpotifyURI=function(a){this.publisher.send(Spotify.Message.PLAY_SPOTIFY_URI,{uri:a})};this.playPauseCurrent=function(){this.publisher.send(Spotify.Message.PLAY_PAUSE_CURRENT,{})};this.playPauseTrack=function(a,b,d){this.publisher.send(Spotify.Message.PLAY_PAUSE_TRACK,{id:a,type:b,context:d})};this.pause=
function(){this.publisher.send(Spotify.Message.PAUSE,{})};this.inject=function(){this.iframeElement=document.createElement("iframe");this.iframeElement.src=this.options.remoteBridgeUrl;this.iframeElement.style.display="none";document.getElementsByTagName("body")[0].appendChild(this.iframeElement)};this.init=function(a){this.options={useWebPlayer:a.useWebPlayer||!1,remoteBridgeUrl:a.remoteBridgeUrl||"",targetOrigin:a.targetOrigin||"*"};if(""!==this.options.remoteBridgeUrl){this.inject();this.publisher=
Spotify.Publisher.getInstance({target:this.iframeElement.contentWindow,targetOrigin:this.options.targetOrigin});var b=this;Spotify.Subscriber.subscribe({onPlayerStatus:function(a){b._onEvent(a)},onClientError:function(a){b._onEvent(a)},onClientConnected:function(a){b._onEvent(a)},onClientConnectionFailed:function(a){b._onEvent(a)},onClientDisconnected:function(a){b._onEvent(a)}})}}};return e}(Spotify||{});Spotify=function(e){e.Message={PLAYER_STATUS:"player-status",CONTROL_POPUP:"control-popup",CLIENT_CONNECTED:"client-connected",CLIENT_CONNECTION_FAILED:"client-connection-failed",CLIENT_DISCONNECTED:"client-disconnected",CLIENT_ERROR:"client-error",MINI_BUTTON_PLAY_PAUSE:"mini-button-play-pause",MINI_BUTTON_REPORT:"mini-button-report",MINI_BUTTON_VIEW_MORE:"mini-button-view-more",MEDIABAR_PLAY_PAUSE:"mediabar-play-pause",MEDIABAR_SHOW:"mediabar-show",ENTITIES_LIST:"entities-list",ENTITIES_RESET:"entities-reset",
REGISTRATION_MODULE:"registration-module",TOGGLE_MENU:"toggle-menu",TOGGLE_PLAY_PAUSE:"toggle-play-pause",FEATURED_ENTITIES:"featured-entities",CHECK_CLIENT:"check-client",WEBPLAYER_CLOSED:"webplayer-closed",PLAY_PAUSE_CURRENT:"play-pause-current",RESUME:"resume",PAUSE:"pause",STOP:"stop",PLAY_SPOTIFY_URI:"play-spotify-uri",PLAY_PAUSE_TRACK:"play-pause-track",CUSTOM_MESSAGE:"custom-message",CHANGE_VOLUME:"change-volume",CHANGE_POSITION:"change-position",CONNECT:"connect",READY:"ready",SERVICE_CALL:"service-call",
SERVICE_REPLY:"service-reply",PLAYER_POSITION:"player-position",TRY_TO_CONNECT:"try-to-connect",AUTH_FAILED:"auth-failed",QUEUE_SKIP_NEXT:"queue-skip-next",QUEUE_SKIP_PREVIOUS:"queue-skip-previous",TOKEN_LOST:"token-lost",LOGIN:"login",LOGIN_BY_FACEBOOK_TOKEN:"login-by-facebook-token",SHUFFLE:"shuffle",REPEAT:"repeat",INTERFACE_AUTH:"interface-auth",INTERFACE_DEF:"interface-def"};var c=function(a){"undefined"===typeof a&&(a={});var b=a.target||window.parent,c=a.targetOrigin||"*",h=function(a,b,c){a===
window&&(c=Spotify.Publisher.getTargetOrigin());a.postMessage(JSON.stringify(b),c)};this.attachSendToChildren=function(a){var b=this,c=function(c){c.propagate&&b.send(c.key,c,a.contentWindow)},d;for(d in e.Message)if(e.Message.hasOwnProperty(d)){var h=this.getCallbackName(e.Message[d]);a[h]=c}};this.send=function(a,g,e,k,i){if(Spotify.Util.isPostMessageCompatible())if("undefined"===typeof g&&(g={}),"undefined"===typeof i&&(i=!0),"undefined"===typeof g.unique&&(g.unique=Spotify.Util.randomId()),"undefined"===
typeof g.propagate&&(g.propagate=i),"undefined"===typeof e&&(e=b),a={key:a,data:g},k)for(k=0;k<e.length;k++)h(e[k],a,c);else h(e,a,c)};this.getCallbackName=function(a){for(var b="",a=a.split("-"),b=a.length,c=0;c<b;c++)a[c]=a[c].charAt(0).toUpperCase()+a[c].slice(1);b=a.join("");return"on"+b};this.getKeyByCallbackName=function(a){var b="";0===a.indexOf("on")&&(a=a.substring(2));b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});0===b.indexOf("-")&&(b=b.substring(1));return b}};e.Publisher=
{instance:null,getInstance:function(a){this.instance||(this.instance=new c(a));return this.instance},getTargetOrigin:function(){var a="";return a="undefined"===typeof window.location.origin?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):window.location.origin}};return e}(Spotify||{});Spotify=function(e){var c=function(){var a=[],b=function(a,b){var c=!1;"undefined"===typeof b&&(b=Spotify.Config.get("allowed-origins"));if(-1!==b.indexOf(a))c=!0;else for(var e=b.length,j=0;j<e;j++){var k=b[j];if("[object Array]"===Object.prototype.toString.call(k)){var i=k[0],k=k[1];if(2<i.length&&(i=i.substring(2),i=i.replace(/\./g,"\\."),RegExp("^("+k+")(://)(([a-zA-Z0-9-])+[.]{1})*("+i+")$").test(a))){c=!0;break}}}return c};this.subscribe=function(b){return a.push(b)};this.unsubscribe=function(b){a[b]=
null};this.validOrigin=function(a,c){return b(a,c)};Spotify.Util.attachEvent("message",function(c){if(b(c.origin))for(var h=0;h<a.length;h++){var f=a[h];if(null!==f){var g=c;if("function"===typeof f.onMessage)f.onMessage(g);else{var j=null;try{j=JSON.parse(g.data)}catch(k){}if(j&&j.key){var i=e.Message,l=void 0;for(l in i)if(i.hasOwnProperty(l)&&i[l]===j.key){var m=Spotify.Publisher.getInstance().getCallbackName(i[l]);"function"===typeof f[m]&&(j.data.key=j.key,f[m](j.data,g))}}}}}else Spotify.Logger.log("Ignored postmessage from disallowed origin. "+
c.origin)},window)};e.Subscriber={instance:null,getInstance:function(){this.instance||(this.instance=new c);return this.instance},subscribe:function(a){this.getInstance().subscribe(a)},unsubscribe:function(a){this.getInstance().unsubscribe(a)}};return e}(Spotify||{});
